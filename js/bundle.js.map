{"version":3,"sources":["webpack/bootstrap 882d4946b74eb85af0fd","./js/main.js","./js/snake.js","./js/coordinate.js","./js/snake-view.js","./js/board.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACPD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;AClCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACtBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,qBAAqB;AACtC;AACA;;AAEA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;;;AAGA;;;;;;;ACpEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,oBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAiB,gCAAgC;AACjD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 882d4946b74eb85af0fd\n **/","var SnakeView = require(\"./snake-view.js\");\n\n$(function() {\n  var view = new SnakeView($(\"#snake-game\"));\n  view.setup();\n  view.eventBinding();\n  view.step();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","var Coord = require(\"./coordinate.js\");\n\nfunction Snake(startingPosition) {\n  this.direction = [0, 0];\n  this.segments = [startingPosition];\n  this.appleCount = 0;\n}\n\nSnake.DIRECTIONS = {\n  \"N\": [0, -1],\n  \"E\": [1, 0],\n  \"S\": [0, 1],\n  \"W\": [-1, 0]\n};\n\nSnake.prototype.move = function() {\n  this.appleCount -= 1;\n\n  var newSegment = (new Coord(this.segments[0])).plus(this.direction);\n  this.segments.unshift(newSegment);\n\n  if (this.appleCount < 0) {\n    this.segments.pop();\n  }\n};\n\nSnake.prototype.turn = function(newDirection) {\n  var dirVect = Snake.DIRECTIONS[newDirection];\n\n  if (!(new Coord(this.direction).isOpposite(dirVect))) {\n    this.direction = dirVect;\n  }\n};\n\nmodule.exports = Snake;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake.js\n ** module id = 1\n ** module chunks = 0\n **/","function Coord(pos) {\n  this.x = pos[0];\n  this.y = pos[1];\n}\n\nCoord.prototype.plus = function(vector) {\n  var x = this.x + vector[0];\n  var y = this.y + vector[1];\n  return [x,y];\n};\n\nCoord.prototype.equals = function(otherPos) {\n  return (this.x === otherPos[0]) && (this.y === otherPos[1]);\n};\n\nCoord.prototype.isOpposite = function(otherPos) {\n  var oppX = this.x * -1;\n  var oppY = this.y * -1;\n\n  return (oppX === otherPos[0]) && (oppY === otherPos[1]);\n};\n\nmodule.exports = Coord;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/coordinate.js\n ** module id = 2\n ** module chunks = 0\n **/","var Board = require(\"./board.js\");\n\nfunction SnakeView($rootEl, dimX, dimY) {\n  this.$rootEl = $rootEl;\n  this.board = new Board(dimX, dimY);\n}\n\nSnakeView.KEYMAP = {\n  \"37\": \"W\",\n  \"38\": \"N\",\n  \"39\": \"E\",\n  \"40\": \"S\",\n};\n\nSnakeView.prototype.setup = function() {\n  for (var i = 0; i < this.board.dimY; i++) {\n    var $row = $(\"<ul></ul>\");\n    $row.addClass(\"row group\");\n\n    for (var j = 0; j < this.board.dimX; j++) {\n      var $square = $(\"<li></li>\");\n      $square.addClass(\"square\");\n      $square.attr(\"data-pos\", [j, i]);\n      $row.append($square);\n    }\n\n    this.$rootEl.append($row);\n  }\n};\n\nSnakeView.prototype.eventBinding = function () {\n  var self = this;\n\n  $(\"body\").on(\"keydown\", function(event){\n    self.board.snake.turn(SnakeView.KEYMAP[event[\"keyCode\"]]);\n  });\n};\n\nSnakeView.prototype.render = function() {\n  $(\".square\").removeClass(\"snake-body\");\n  $(\".square\").removeClass(\"apple\");\n\n  var applePos = this.board.apple;\n  $(\".square[data-pos='\" + applePos + \"']\").addClass(\"apple\");\n\n\n  var segments = this.board.snake.segments;\n  for (var i = 0; i < segments.length; i++) {\n    var pos = segments[i];\n    $(\".square[data-pos='\" + pos + \"']\").addClass(\"snake-body\");\n  }\n};\n\nSnakeView.prototype.step = function () {\n  setTimeout(function() {\n    this.board.snake.move();\n    this.board.checkApple();\n\n    if (this.board.gameOver()) {\n      alert(\"You died\");\n    } else {\n      this.render();\n      this.step();\n    }\n  }.bind(this), 200);\n};\n\n\nmodule.exports = SnakeView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake-view.js\n ** module id = 3\n ** module chunks = 0\n **/","var Snake = require(\"./snake.js\");\nvar Coord = require(\"./coordinate.js\");\n\nfunction Board(dimX, dimY) {\n  var DIMX = 20;\n  var DIMY = 20;\n  this.dimX = dimX || DIMX;\n  this.dimY = dimY || DIMY;\n  var pos = [10, 10];\n  this.snake = new Snake(pos);\n  this.addApple();\n}\n\nBoard.prototype.addApple = function() {\n  var randX = Math.floor(Math.random()*this.dimX);\n  var randY = Math.floor(Math.random()*this.dimY);\n  var randCoord = new Coord([randX, randY]);\n\n  var segments = this.snake.segments;\n  var noOverlap = false;\n\n  while (!noOverlap) {\n    noOverlap = true;\n\n    for (var i = 0; i < segments; i++) {\n      if (randCoord.equals(segments[i])) {\n        noOverlap = false;\n\n        randX = Math.floor(Math.random()*this.dimX);\n        randY = Math.floor(Math.random()*this.dimY);\n        randCoord = new Coord([randX, randY]);\n      }\n    }\n  }\n\n  this.apple = [randX, randY];\n};\n\nBoard.prototype.gameOver = function() {\n  var snakeHead = this.snake.segments[0];\n\n  var offBoard = (\n    (snakeHead[0] < 0) ||\n    (snakeHead[0] >= this.dimX) ||\n    (snakeHead[1] < 0) ||\n    (snakeHead[1] >= this.dimY)\n  );\n\n  var eatenSelf = false;\n  var coord = new Coord(snakeHead);\n\n  for (var i = 1; i < this.snake.segments.length; i++) {\n    if (coord.equals(this.snake.segments[i])) {\n      eatenSelf = true;\n    }\n  }\n\n  return offBoard || eatenSelf;\n};\n\nBoard.prototype.checkApple = function () {\n  if (new Coord(this.snake.segments[0]).equals(this.apple)) {\n    this.snake.appleCount = 2;\n    this.addApple();\n    return true;\n  }\n\n  return false;\n};\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/board.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}